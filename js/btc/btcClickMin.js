let visitedSites=0,totalChannelsJoined=0,calledOperations=0,waitingForTasksRetry=0;var startTime=performance.now(),joiningChannels=!1,visitingSites=!0;let controlVisitedSites=0;var wasJoiningChannels=!1,wasVisitingSites=!1,isBotRunning=!0;async function stopBTCFarm(){isBotRunning=!1}async function startBTCFarm(){do{await run_bot()}while(isBotRunning)}async function run_bot(){console.error("--------------------------========================------------------------"),joiningChannels?(console.error("Joining channels"),await joinChannel()):visitingSites?(console.error("Visiting sites"),await visitSite()):await messageBot();var e=performance.now();console.error("Total execution time of the farm is: "+(e-startTime)/1e3+" seconds")}async function joinChannel(){wasJoiningChannels?await validateJoinChannel()&&(calledOperations++,console.error("Called operations: "+calledOperations),calledOperations%4==0&&(totalChannelsJoined++,console.error("Total channels joined: "+totalChannelsJoined),calledOperations=0,totalChannelsJoined%10==0&&(joiningChannels=!1,visitingSites=!0,wasVisitingSites=!1)),goToChannelOrGroup()&&await sleep(5e3),joinChannelOrGroup()&&await sleep(5e3),btcChannel()&&await sleep(5e3),joined()&&await sleep(5e3)):(joinChats(),await sleep(4e3));joiningChannels&&(wasJoiningChannels=!0)}async function visitSite(){if(wasVisitingSites){if(validateVisitSite()){visitedSites++,console.error("Visited sites: "+visitedSites),goToWebsite(),await sleep(2e3);var e=await openWebsite();0!=e&&(await sleep(e),closeCurrentTab(),visitedSites%5==0&&(visitingSites=!1,joiningChannels=!0,wasJoiningChannels=!1),await sleep(2e3))}}else startVisitingSites(),await sleep(2e3);visitingSites&&(wasVisitingSites=!0)}async function messageBot(){}function validateVisitSite(){return!0}function getLastMessage(){var e=document.getElementsByClassName("im_message_text");return e[e.length-1].innerHTML}async function validateJoinChannel(){var e=!0,n=getLastMessage();return console.error("Validating message: "+n),(n.includes("We cannot find you")||n.includes("You already completed this task"))&&(skipChannel(),await sleep(5e3),joinChats(),e=!1),(n.includes("There is a new chat for you to join")||n.includes("Sorry, that task is no longer valid"))&&(e=!1,joinChats()),(n.includes("Sorry, there are no new ads available.")||n.includes("Join chats"))&&(console.error("Waiting for new tasks"),await sleep(5e3),e=!1,++waitingForTasksRetry%2==0&&(joinChats(),visitingSites=!0,joiningChannels=!1)),e||(await sleep(5e3),btcChannel()),console.error("Validation is: "+e),e}function sleep(e){return console.error("Sleeping"),new Promise(n=>setTimeout(n,e))}function skipChannel(){for(var e,n=document.getElementsByTagName("button"),t=0;t<n.length;t++)if(":fast_forward: Skip"==n[t].textContent){e=n[t];break}e&&(console.error("Skipping channel"),e.click()),NEXT_OPERATION_READY=!0}function startVisitingSites(){var e=findButtonByName("Visit sites");e&&(console.error("Clicking Visit sites button"),e.click())}function goToWebsite(){var e=findLinkByName("Go to website");e&&(console.error("Clicking on go to website"),e.click())}async function openWebsite(){var e=findButtonByName("OK"),n=0;return e&&(console.error("Opening the website"),e.click(),await sleep(1500),n=isDogeClickSite()?1e4:71e3),console.error("Time to sleep is: "+n),n}function isDogeClickSite(){for(var e=document.getElementsByClassName("im_message_text"),n=e.length-4;n<e.length;n++)if(e[n].innerHTML.includes("Please stay on the site for at least"))return!0;return!1}function closeCurrentTab(){window.open("","_parent",""),window.focus(),console.error("Closing the tab")}function joined(){for(var e,n=document.getElementsByTagName("button"),t=n.length-1;t>=0;t--)if(":white_check_mark: Joined"==n[t].textContent){e=n[t];break}return!!e&&(console.error("Clicking joined button"),e.click(),!0)}function joinChannelOrGroup(){var e=document.getElementsByClassName("btn btn-primary im_start_btn")[0];return!!e&&(console.error("join channel/group"),e.click(),!0)}function joinChats(){var e=findButtonByName(":mega: Join chats");return!!e&&(console.error("Clicking Join chats button"),e.click(),!0)}function findButtonByName(e){for(var n,t=document.getElementsByTagName("button"),i=0;i<t.length;i++)if(t[i].textContent.includes(e)){n=t[i];break}return n}function findLinkByName(e){for(var n,t=document.getElementsByClassName("btn reply_markup_button"),i=t.length-1;i>=0;i--)if("A"==t[i].tagName&&t[i].innerHTML.includes(e)){n=t[i];break}return n}function goToChannelOrGroup(){var e=findLinkByName("Go to channel");return e||(e=findLinkByName("Go to group")),!!e&&(console.error("Opening channel/group"),e.click(),!0)}function closeEmoji(){var e=document.getElementsByClassName("composer_keyboard_btn active");return!!e[0]&&(console.error("Clicking emoji button"),triggerMouseEvent(e[0],"mousedown"),!0)}function triggerMouseEvent(e,n){var t=document.createEvent("MouseEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}function getCurrentDateTime(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+":"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}function btcChannel(){for(var e,n=document.getElementsByClassName("im_dialog"),t=0;t<n.length;t++)if(n[t].text.includes("BTC Click Bot")){e=n[t];break}return!!e&&(console.error("open zec channel"),triggerMouseEvent(e,"mousedown"),!0)}startBTCFarm();